<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.marry.company">
	<select id="companySelectOne" parameterType="Integer" resultType="com.marry.company.model.CompanyDTO">
	select
		*
	from
		company
	where
		cidx = #{cidx}
		and clevel = 1
		and blind = 0
	</select>
	<select id="selectHall" parameterType="Integer" resultType="com.marry.company.model.HallDTO">
	select
		*
	from	
		hall
	where
		cidx = #{cidx}
	order by
		hidx asc
	</select>
	<select id="selectFood" parameterType="Integer" resultType="com.marry.company.model.FoodDTO">
	select
		*
	from
		food
	where
		cidx = #{cidx}
	order by
		fidx asc
	</select>
	<select id="selectImg" parameterType="Integer" resultType="com.marry.company.model.Com_ImgDTO">
	select
		*
	from
		com_img
	where
		cidx = #{cidx}
	order by
		iidx asc
	</select>
	<insert id="insertReview" parameterType="com.marry.company.model.ReviewDTO">
	insert into 
		review
	values (
		review_ridx.nextval,
		#{cidx},
		#{midx},
		#{content},
		#{star},
		sysdate
		)
	</insert>
	<select id="selectReview" parameterType="Integer" resultType="com.marry.company.model.ReviewDTO">
	select
		*
	from
		review
	where
		cidx = #{cidx}
	order by
		ridx asc
	</select>
</mapper>