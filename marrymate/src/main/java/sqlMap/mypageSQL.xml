<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.marry.mypage">
	
	<update id="myInfoUpdate" parameterType="com.marry.member.model.MemberDTO">
		update member
		set
		nick=#{nick}
		,pwd=#{pwd}
		,tel=#{tel}
		,juso=#{juso}
		,sjuso=#{sjuso}
		,marrydate=#{marrydate}
		,pname=#{pname}
		where midx=#{midx} 	
	</update>
	<update id="companyInfoUpdate" parameterType="com.marry.company.model.CompanyDTO">
		update company
		set
		cname=#{cname}
		,tel=#{tel}
		,email=#{email}
		,juso=#{juso}
		,sjuso=#{sjuso}
		,curl=#{curl}
		,intro=#{intro}
		where id=#{id}
	</update>
	<select id="myInfoSelect" parameterType="com.marry.member.model.MemberDTO" resultType="com.marry.member.model.MemberDTO">
        select 
        	  name
        	, id
        	, birthday
        	, gender
        	, nick
        	, tel
        	, juso
        	, sjuso
        	, marrydate
        	, pname 
         from member 
         where id=#{id}
         
    </select>
    <select id="comInfoSelect" parameterType="com.marry.company.model.CompanyDTO" resultType="com.marry.company.model.CompanyDTO">
    	select
    			id
    			,pwd
    			,cnum
    			,cname
    			,tel
    			,email
    			,juso
    			,sjuso
    			,sido
    			,sigungu
    			,curl
    			,intro
    			,img
    			,kind
    	from company
    	where id=#{id}		 		
    </select>
    <select id="hallInfoSelect" parameterType="integer" resultType="com.marry.company.model.HallDTO">
    	select
    			hidx
    			,cidx
    			,name
    			,time
    			,pay
    			,guest_num
    			,seat_num
    	from hall
    	where cidx=#{cidx}		
    </select>
    <select id="foodInfoSelect" parameterType="integer" resultType="com.marry.company.model.FoodDTO">
    	select
    			fidx
    			,cidx
    			,type
    			,name
    			,pay
    	from food
    	where cidx=#{cidx}		
    </select>
</mapper>